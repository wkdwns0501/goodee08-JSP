7장

01 파일 업로드를 위한 form 태그 내에 반드시 설정해야 하는 기법으로 옳지 않은 것은 무엇인가? 4
① form 태그의 method 속성은 반드시 POST 방식으로 설정해야 한다. 
② form 태그의 enctype 속성은 반드시 multipart/form-data로 설정해야 한다. 
③ form 태그의 action 속성은 파일 업로드를 처리할 서블릿 또는 JSP 파일로 설정해야 한다. 
④ 파일 업로드를 위해 input 태그의 type 속성을 upload로 설정해야 한다. 
만약 여러 파일을 업로드하려면 2개 이상의 input 태그를 사용하고 name 속성에 서로 다른 같은 값으로 설정해야 한다. 

02 @MultipartConfig 어노테이션의 역할로 옳은 것은? 2
① JSP 페이지에서 <form> 태그를 자동으로 multipart/form-data로 변환한다
② 서블릿에서 파일 업로드 처리를 위한 설정을 제공한다
③ 업로드된 파일을 무조건 서버의 특정 경로에 저장한다
④ HTTP 요청을 자동으로 JSON으로 변환한다

03 다음 중 @MultipartConfig 속성 설명으로 옳지 않은 것은? 4
① fileSizeThreshold: 이 값보다 큰 파일은 임시 디렉터리에 저장된다
② maxFileSize: 업로드 파일 1개의 최대 허용 크기를 지정한다
③ maxRequestSize: 업로드 요청 전체(파일 + 일반 폼 데이터)의 최대 크기를 지정한다
④ location: 업로드된 파일이 브라우저에 바로 표시되는 URL 경로를 지정한다

04 서블릿에서 업로드된 파일을 실제 서버 경로로 저장할 때 사용하는 메서드는? 2
① request.getPart("fileName")
② part.write("경로/파일명")
③ request.getParameter("file")
④ response.sendRedirect("파일명")

05 다음 중 multipart/form-data 요청에서 request.getParts()의 반환값에 대한 설명으로 옳은 것은? 3
① 파일 필드만 반환한다
② 일반 폼 필드만 반환한다
③ 파일 필드와 일반 폼 필드를 모두 Part 객체로 반환한다
④ 요청 URL 쿼리스트링 값만 반환한다

06 fileSizeThreshold를 1MB로 설정하고, 업로드 파일이 500KB라면 파일은 어디에 저장되는가? 2
① 서버 임시 디렉토리
② 메모리 내에서 처리
③ 지정한 location 폴더
④ 브라우저 캐시

07 다음은 파일 업로드 및 정보를 출력하는 프로그램이다. 밑줄에 들어갈 올바른 것은 무엇인가? 1
<form name="fileForm" method="post" enctype="______________"
    action="fileupload01_process.jsp">
  <p>이름: <input type="text" name="name"></p>
  <p>제목: <input type="text" name="subject"></p>
  <p>파일: <input type="____" name="filename"></p>
  <input type="submit" value="파일 올리기">
</form>

① multipart/form-data, file 
② multipart/form, file 
③ multipart/form-data, text 
④ multipart/form, text 

08 서블릿 3.0 표준 API를 사용하여 다음 조건에 맞게 JSP 애플리케이션을 만들고 실행하여 결과를 확인하시오.
1) fileupload.jsp 파일을 생성한다.
	• input 태그 내에 file 유형을 이용하여 파일 항목을 작성한다.
	• input 태그 내에 multiple 속성을 추가하여 여러 파일을 선택할 수 있도록 한다.
	• form 태그에 action 속성 값은 /fileuploadProcess로 작성한다.
2) src/main/java 폴더에 ch07.controller 패키지로 FileuploadProcessServlet 클래스를 생성하여 
	• 여러 파일을 업로드 하는 기능을 작성하고 업로드 완료 시 파일 이름을 출력한다.
3) 웹 브라우저에 'http://localhost:8080/Exercise/ch07/fileupload.jsp'를 입력하여 실행 결과를 확인한다.

09 08 추가 문제: 파일명이 중복될 경우 새로운 이름으로 변경하는 로직 추가 작성
서버에 저장할 때 UUID로 변경해서 저장하는 게 안전